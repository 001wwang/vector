// Construct a font import URL for Google Fonts
{{ $fonts    := site.Params.fonts }}
{{ $fontSlice := slice }}
{{ range $fonts }}
{{ $fontSlice = $fontSlice | append (printf "%s:%s" (replace .name " " "+") (delimit .sizes ",")) }}
{{ end }}
{{ $fontsUrl := printf "https://fonts.googleapis.com/css?family=%s" (delimit $fontSlice "|") }}

// Font Awesome import
{{ $fontAwesomeVersion := site.Params.font_awesome_version }}
{{ $fontAwesomeUrl     := printf "https://use.fontawesome.com/releases/v%s/css/all.css" $fontAwesomeVersion }}

// Get fonts from site params
{{ $sansSerifFont := (index (where $fonts "type" "eq" "sans_serif") 0).name }}
{{ $monospaceFont := (index (where $fonts "type" "eq" "monospace") 0).name }}
{{ $secondaryFont := (index (where $fonts "type" "eq" "secondary") 0).name }}

@charset "utf-8"
@import url("{{ $fontsUrl }}")
@import url("{{ $fontAwesomeUrl }}")

// Custom colors
$vector-black: #191927
$vector-dark: #242526
$vector-magenta: #ef227a
$vector-light-magenta: #ff79c6
$vector-light-blue: #28d9f2
$vector-blue: #00a9bc
$vector-purple: #98f
$vector-green: #50FA7B
$twitter-blue: #1DA1F2
$discord-purple: #7289DA
$rss-orange: #f26522

// Bulma's initial variables need to be imported first, as they're used to construct other variables
@import "bulma/sass/utilities/initial-variables"

/// Bulma variable overwrites

// Colors
$primary: $vector-blue
$secondary: $vector-magenta
$black: $vector-black
$link: $vector-blue
$dark: $vector-dark
$purple: $vector-purple

// Fonts
$family-sans-serif: "{{ $sansSerifFont }}", BlinkMacSystemFont, -apple-system, "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif
$family-secondary: "{{ $secondaryFont }}"
$family-monospace: "{{ $monospaceFont }}", monospace

// Component-specific attributes
$breadcrumb-item-color: $grey
$breadcrumb-item-separator-color: $purple
$footer-background-color: $black
$footer-color: $white-bis
$tabs-border-bottom-width: 3px
$tabs-link-hover-color: $secondary
$tabs-link-hover-border-bottom-color: $secondary
$section-padding: 2rem 1rem
$hr-height: 1px
$hr-margin: 1rem 0.5rem
$code: $secondary
$code-background: $white-bis
$content-heading-weight: $weight-light
$card-content-padding: 1rem 1.25rem
$card-header-padding: 0.75rem 1rem
$navbar-item-hover-color: $primary !important
$navbar-item-hover-background-color: $black !important
$navbar-item-active-background-color: $black !important
$navbar-item-active-color: $vector-light-blue !important

// Bulma also has some "derived" variables that take the vars defined above as inputs
@import "bulma/sass/utilities/derived-variables"

// Bulma variable overwrites that require derived variables
$hero-body-padding: $section-padding
$hr-background-color: $grey-lighter
$menu-item-active-background-color: $white
$menu-item-active-color: $vector-magenta
$card-shadow: 0 0.25em 1em -0.125em rgba($scheme-invert, 0.1), 0 0px 0 1px rgba($scheme-invert, 0.02)

// Add colors to Bulma's color map
$colors: mergeColorMaps(("orange": ($orange, $white), "secondary": ($secondary, $white), "twitter-blue": ($twitter-blue, $white), "discord-purple": ($discord-purple, $white), "purple": ($vector-purple, $white)), $colors)

/// Selective import of Bulma libraries. Unused libraries are commented out.

// Bulma utilities
@import "bulma/sass/utilities/functions"
@import "bulma/sass/utilities/mixins"
@import "bulma/sass/utilities/controls"
@import "bulma/sass/utilities/extends"

// Bulma base
@import "bulma/sass/base/minireset"
@import "bulma/sass/base/generic"
//@import "bulma/sass/base/animations"

// Bulma elements
//@import "bulma/sass/elements/box"
@import "bulma/sass/elements/button"
@import "bulma/sass/elements/container"
@import "bulma/sass/elements/content"
@import "bulma/sass/elements/icon"
@import "bulma/sass/elements/image"
//@import "bulma/sass/elements/notification"
//@import "bulma/sass/elements/other"
//@import "bulma/sass/elements/progress"
//@import "bulma/sass/elements/table"
//@import "bulma/sass/elements/tag"
@import "bulma/sass/elements/title"

// Bulma forms
//@import "bulma/sass/form/shared"
//@import "bulma/sass/form/checkbox-radio"
//@import "bulma/sass/form/file"
//@import "bulma/sass/form/input-textarea"
//@import "bulma/sass/form/select"
//@import "bulma/sass/form/tools"

// Bulma components
@import "bulma/sass/components/breadcrumb"
@import "bulma/sass/components/card"
@import "bulma/sass/components/dropdown"
@import "bulma/sass/components/level"
@import "bulma/sass/components/media"
//@import "bulma/sass/components/menu"
@import "bulma/sass/components/message"
@import "bulma/sass/components/navbar"
@import "bulma/sass/components/pagination"
//@import "bulma/sass/components/panel"
@import "bulma/sass/components/tabs"

// Bulma grid
@import "bulma/sass/grid/columns"
//@import "bulma/sass/grid/tiles"

// Bulma helpers
@import "bulma/sass/helpers/color"
//@import "bulma/sass/helpers/flexbox"
//@import "bulma/sass/helpers/float"
@import "bulma/sass/helpers/other"
//@import "bulma/sass/helpers/overflow"
//@import "bulma/sass/helpers/position"
@import "bulma/sass/helpers/spacing"
@import "bulma/sass/helpers/typography"
@import "bulma/sass/helpers/visibility"

// Bulma layout
@import "bulma/sass/layout/footer"
@import "bulma/sass/layout/hero"
@import "bulma/sass/layout/section"

// Vendored Sass
@import "bulma-timeline/src/sass/index"

/// Non-vendored, site-specific Sass

// This needs to be imported first
@import "helpers"

@import "cli"
@import "configs"
@import "custom"
@import "drawer"
@import "sidebar"
@import "syntax"
@import "toc"
@import "vrl/variables"
@import "vrl/errors"
@import "vrl/functions"
