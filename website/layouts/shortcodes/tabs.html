{{ if not .Params.default }}
{{ errorf "no default tab specified in tabs shortcode %s" .File }}
{{ end }}

{{ $default := .Params.default | urlize }}
<div x-data="{ selected: '{{ $default }}' }" class="no-prose border rounded-md p-5 dark:border-gray-700">
  <div class="flex space-x-3 mb-3">
    {{ .Inner }}
  </div>

  {{ range $k, $v := $.Page.Scratch.Get "tabs" }}
  <div x-show="selected === '{{ $k }}'">
    {{ $v | $.Page.RenderString }}
  </div>
  {{ end }}
</div>

{{/* Reset Scratch for the "tabs" key */}}
{{ $.Page.Scratch.Set "tabs" dict }}