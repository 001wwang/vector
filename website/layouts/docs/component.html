{{ define "title" }}
{{ .Title }} | Vector documentation
{{ end }}

{{ define "main" }}
{{ $tag := .File.BaseFileName }}
{{ $kind := .CurrentSection.Params.component_type }}
{{ $config := index (index site.Data.docs.components $kind) $tag }}
<div class="relative max-w-3xl mx-auto px-6 lg:px-8 lg:max-w-7xl mt-8">
  <div class="lg:grid lg:grid-cols-16 lg:gap-8">
    <div class="hidden lg:block lg:col-span-5 xl:col-span-4 pr-0 lg:pr-6 md:pr-2">
      <nav aria-label="Sidebar" class="sticky top-8 pr-0 lg:pr-4 pb-16" x-cloak>
        {{ partial "docs/sidebar.html" . }}
      </nav>
    </div>

    <main aria-label="Main documentation content" class="lg:col-span-11 xl:col-span-9 md:px-0">
      <div class="lg:pr-8">
        <div class="pb-16 sm:pb-24">
          {{ partial "hero.html" . }}
        </div>

        <div class="prose dark:prose-dark tracking-tight pb-32" id="page-content">
          {{/* Component requirements */}}
          {{ with $config.support.requirements }}
          {{ partial "heading.html" (dict "text" "Requirements" "level" 2) }}
          {{ partial "data.html" (dict "requirements" .) }}
          {{ end }}

          {{/* Component warnings */}}
          {{ with $config.support.warnings }}
          {{ partial "heading.html" (dict "text" "Warnings" "level" 2) }}
          {{ partial "data.html" (dict "warnings" .) }}
          {{ end }}

          {{/* Component configuration */}}
          {{ with $config.configuration }}
          {{ partial "heading.html" (dict "text" "Configuration" "level" 2) }}
          {{ partial "data.html" (dict "config" . ) }}
          {{ end }}

          {{/* Component environment variables */}}
          {{ with $config.env_vars }}
          {{ partial "heading.html" (dict "text" "Environment variables" "level" 2) }}
          {{ partial "data.html" (dict "env_vars" . ) }}
          {{ end }}

          {{/* Component log/metric output */}}
          {{ with $config.output }}
          {{ partial "heading.html" (dict "text" "Output" "level" 2) }}
          {{ partial "data.html" (dict "output" . ) }}
          {{ end }}

          {{/* Component telemetry output */}}
          {{ with $config.telemetry }}
          {{ partial "heading.html" (dict "text" "Telemetry" "level" 2) }}
          {{ partial "data.html" (dict "telemetry" . ) }}
          {{ end }}

          {{/* Component examples */}}
          {{ with $config.examples }}
          {{ partial "heading.html" (dict "text" "Examples" "level" 2) }}
          {{ partial "data.html" (dict "examples" . ) }}
          {{ end }}

          {{/* How it works */}}
          {{ with $config.how_it_works }}
          {{ partial "heading.html" (dict "text" "How it works" "level" 2) }}
          {{ range $k, $v := . }}
          {{ partial "heading.html" (dict "text" $v.title "level" 3) }}

          {{ with .svg }}
          {{ partial "svg.html" (dict "src" .) }}
          {{ end }}

          {{ $v.body | $.Page.RenderString }}

          {{ with $v.sub_sections }}
          {{ range . }}
          {{ partial "heading.html" (dict "text" .title "level" 4) }}

          {{ with .svg }}
          {{ partial "svg.html" (dict "src" .) }}
          {{ end }}

          {{ .body | $.Page.RenderString }}
          {{ end }}
          {{ end }}

          {{ end }}
          {{ end }}
        </div>
      </div>
    </main>

    <div class="hidden xl:block xl:col-span-3">
      <aside aria-label="Table of contents" class="sticky top-8">
        {{ partial "toc.html" . }}
      </aside>
    </div>
  </div>
</div>
{{ end }}

{{ define "below" }}
{{ partial "docs/pagination.html" . }}
{{ end }}

{{ define "subfooter" }}
{{ partial "docs/mobile-nav.html" . }}
{{ end }}